(function(){"use strict";function t(){return{}}function i(n){n.interceptors.push("httpInterceptor")}function r(n,t,i,r){function u(){return'<div id="ngplus-overlay-container" class="{{ngplusOverlayAnimation}}" data-ng-show="!!show"><div class="ngplus-overlay-background"><\/div><div id="ngplus-overlay-content" class="ngplus-overlay-content" data-ng-transclude><\/div><\/div>'}function f(u){function p(){w();window.jQuery&&b();y=document.getElementById("ngplus-overlay-container")}function w(){r.request=function(t){return l(),t||n.when(t)};r.response=function(t){return e(),t||n.when(t)};r.responseError=function(t){return e(),n.reject(t)}}function b(){$(document).ajaxStart(function(){l()});$(document).ajaxComplete(function(){e()});$(document).ajaxError(function(){e()})}function l(){f.push({});f.length==1&&(o=t(function(){f.length&&k()},a))}function e(){f.pop();f.length==0&&(s=t(function(){f.length==0&&(d(),s&&t.cancel(s))},v))}function k(){var n=0,t=0;i.innerWidth?(n=i.innerWidth,t=i.innerHeight):document.documentElement.clientWidth==0?(n=document.body.clientWidth,t=document.body.clientHeight):(n=document.documentElement.clientWidth,t=document.documentElement.clientHeight);var r=document.getElementById("ngplus-overlay-content"),f=parseInt(h(r,"width").replace("px","")),e=parseInt(h(r,"height").replace("px",""));r.style.top=t/2-e/2+"px";r.style.left=n/2-f/2+"px";u.show=!0}function d(){o&&t.cancel(o);u.show=!1}var c={overlayDelayIn:500,overlayDelayOut:500},a=u.ngplusOverlayDelayIn?u.ngplusOverlayDelayIn:c.overlayDelayIn,v=u.ngplusOverlayDelayOut?u.ngplusOverlayDelayOut:c.overlayDelayOut,y=null,f=[],o=null,s=null,h;p();h=function(){var n=null;return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle:typeof document.body.currentStyle!="undefined"&&(n=function(n){return n.currentStyle}),function(t,i){return n(t,null)[i]}}()}return{scope:{ngplusOverlayDelayIn:"@",ngplusOverlayDelayOut:"@",ngplusOverlayAnimation:"@"},restrict:"EA",transclude:!0,template:u(),link:f}}var n=angular.module("ngplus",[]);n.factory("httpInterceptor",t);n.config(["$httpProvider",i]);n.directive("ngplusOverlay",["$q","$timeout","$window","httpInterceptor",r])})();